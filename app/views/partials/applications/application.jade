script#application(type="text/ng-template")    
    md-content
        section(layout="column", flex = "80")
            form(name = "editAccountForm", ng-submit = "submitApplication()")
                div(layout, layout-xs="column")
                    div(ng-show = "searchingForUser")
                        md-progress-linear (md-mode="indeterminate")
                    md-input-container(flex).md-block
                        label() Character Name
                        md-icon(ng-show = "validCharacterName", md-font-library="material-icons", style = "color:green") check_circle
                        md-icon(ng-show = "!validCharacterName", md-font-library="material-icons", style = "color:red") error
                        input(id = "characterNameInput", ng-model = "application.characterName", ng-blur = "validateCharactername", required)
                        
                    md-autocomplete(md-min-length = "0",
                                    md-item-text = "realm.name",
                                    md-selected-item = "application.realm",
                                    md-selected-item-change="validateCharactername()"
                                    md-search-text = "realm",
                                    md-floating-label = "Select Realm",
                                    md-items = "realm in filterSearch(realm)",
                                    flex)
                        md-item-template
                            span(md-highlight-text = "realm"){{realm.name}}
                div(layout, layout-xs="column")
                    md-input-container(flex).md-block
                        label() Item Level
                        input(ng-model = "application.itemLevel", required)
                    md-input-container(flex).md-block
                        label() Previous Guild
                        input(ng-model = "application.previousGuild", required)
                div(layout, layout-xs="column")
                    md-input-container(flex).md-block
                        label() Desired Role
                        input(ng-model = "application.desiredRole", required)
                div(layout, layout-xs="column")
                    md-input-container(flex).md-block
                        label()
                            | Anything Else?
                        textarea(ng-model = "application.comments")
                div(layout, layout-xs="column")
                    md-input-container().md-block
                    md-button(type = "submit").md-primary.md-raised
                            | Submit
                        
//-
    div.container
        div.card
            h4
                | Please fill out all fields
            div.row
                form(ng-submit = "submitApplication()").col.s12                
                    div.row
                        div.col.s6          
                            
                            label() Characters Realm
                            select(ng-change = "validateCharactername()", ng-options = "realm as realm.name for realm in realms track by realm.name", ng-model = "application.realm").browser-default.active
                                option(value="", disabled, selected) Select Realm
                            
                            
                        div.col.s6.input-field

                            i(ng-show = "!validCharacterName",class="material-icons prefix", data-position="top", data-delay="50", data-tooltip="Character not found").tooltipped.error error
                            div(ng-show = "searchingForUser")
                                .progress
                                    .indeterminate
                            input(ng-blur = "validateCharactername()", placeholder = "Battle Tag", placeholder = "Character Name",  id="characterNameInput", type = "text", class = "validate", ng-model = "application.characterName", required = "required")

                            label(for="characterNameInput") Character Name
                    div.row
                        div.col.s12.input-field
                            i(class="material-icons prefix") group_work
                            input(id = "previousGuildInput", placeholder = "Previous/Current Guild", type = "text", required = "required", ng-model = "application.previousGuild")
                            label(for="previousGuildInput") Previous/Current Guild (We won't tell we promise)      
                    div.row
                        div.col.s12.input-field
                            i(class="material-icons prefix") info
                            input(id = "itemLevelInput", type = "text", class = "validate", required = "required", ng-model = "application.itemLevel", placeholder = "Item Level")
                            label(for="itemLevelInput") Item Level
                    div.row
                        div.col.s12.input-field
                            i(class="material-icons prefix") info
                            input(id = "desiredRoleInput", type = "text", class = "validate", ng-model = "application.desiredRole", placeholder = "Desired Role")
                            label(for="desiredRoleInput") Desired Role if applicable
                    div.row
                        div.col.s12.input-field
                            i(class="material-icons prefix") message
                            textarea(id="textarea1", class="materialize-textarea", ng-model = "application.comments")
                            label(for="textarea1") Anything else?
                    div.row
                        div.s6.col
                            button(type="submit")#btn-login.btn.btn-primary
                                i.icon-lock.icon-white
                                | Submit 